<!DOCTYPE html>
<html>
    <head>
        <title>Пример 30</title>
    </head>
    <body>
        <script>
            var x = prompt('Введите число x:');
            var y = prompt('Введите число y:');
            var res = 0.0;
            function exponentiation(x,y){
                if (y > 0){
                    var z = 1;
                    for (var i = 0; i < y; i++){
                        z *= x;
                    }
                }
                else if (y < 0){
                    var z = 1;
                    for (var i = 0; i > y; i--){
                        z /= x;
                    }
                }
                else z = 1;
                return z;
            }
            function NOD(x, y){
                var i = Math.abs(x);
                var k = Math.abs(y);
                var l = 1;
                var m = 1;
                if (i > k) var j = k;
                else var j = i;
                while (l < j){
                    l++;
                    if (k % l === 0 && i % l === 0) {
                        k /= l;
                        i /= l;
                        m *= l;
                        l = 1;
                    }
                }
                return m;
            }
            function exponentiation1(x,y){
                var i = 10;
                while(Number.isInteger(i * y) == false){
                    i *= 10;
                }
                var n = NOD(i, i * y);
                var ch = y * i / n;
                var zn = Math.abs(i / n);
                if (x < 0 && zn % 2 == 0) return 'Сочетание введенных степени и основания не имеет смысла';
                if (Math.abs(x) === 1) {
                    if (ch % 2 === 0)  return 1;
                    else  return x;
                }
                var top = x;
                var bot = 0.0;
                while (exponentiation(m, zn)  !== x){
                    if (m === (top + bot) / 2) return exponentiation(m,ch);
                    var m = (top + bot) / 2;
                    if (Math.abs(exponentiation(m, zn)) > Math.abs(x)) top = m;
                    else bot = m;
                }
                return exponentiation(m,ch);
            }

            if (Number.isNaN(parseFloat(x)) == false && Number.isNaN(parseFloat(y)) == false){
                if (x == 0 && y < 0){
                    alert('Сочетание введенных степени и основания не имеет смысла');
                }
                else {if (parseInt(y) === parseFloat(y)) res = exponentiation(x,y);
                else res = exponentiation1(x,y);
                if (Number.isNaN(parseFloat(res))) alert(res);
                else alert('Число '+x+' в степени '+y+' равно '+ res);}
            }
            else alert('Ошибка! Сочетание введенных x, y невозможно!');
        </script>
    </body>
</html>